#!/bin/bash -e

install_toolkit() {
    git clone https://github.com/mikepjb/toolkit $HOME/toolkit
    . $HOME/toolkit/install
}

install_bspwm() {
    git clone https://github.com/Javyre/bspwm $HOME/src/bspwm
    cd !$
    make && make install
}

install_arch_configuration() {
    mkdir -p $HOME/src
    git clone \
        https://github.com/mikepjb/arch-configuration \
        $HOME/src/arch-configuration
    [ -L $HOME/.config ] && unlink $HOME/.config
    [ -d $HOME/.config ] && rm $HOME/.config
    ln -sfv $HOME/src/arch-configuration/config $HOME/.config
    mkdir -p ~/Pictures/backgrounds
    ln -s $HOME/src/arch-configuration/wallpaper.jpg $HOME/Pictures/backgrounds/wallpaper.jpg
}

main() {
  install_toolkit
  install_arch_configuration
}

main
